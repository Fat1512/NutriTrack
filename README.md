# ğŸ¥¦ NutriTrack â€” Giáº£i phÃ¡p pháº§n má»m theo dÃµi dinh dÆ°á»¡ng thÃ´ng minh

[![License](https://img.shields.io/badge/License-Apache_2.0-blue.svg)](./LICENSE)
[![Made with Java](https://img.shields.io/badge/Backend-Java_SpringBoot-orange)]()
[![Made with Python](https://img.shields.io/badge/AI-Python_Flask-yellow)]()
[![OpenAI](https://img.shields.io/badge/LLM-OpenAI_gpt--4o-00b3ff?logo=openai)]()
[![Frontend](https://img.shields.io/badge/Frontend-React_TypeScript-blue)]()
[![Database](https://img.shields.io/badge/Database-MongoDB-green)]()
[![Dockerized](https://img.shields.io/badge/Deployment-Docker_&_Nginx-lightgrey)]()

## **NutriTrack** lÃ  há»‡ thá»‘ng há»— trá»£ **theo dÃµi dinh dÆ°á»¡ng vÃ  lá»‘i sá»‘ng** toÃ n diá»‡n, giÃºp ngÆ°á»i dÃ¹ng dá»… dÃ ng quáº£n lÃ½ cháº¿ Ä‘á»™ Äƒn uá»‘ng, cáº£i thiá»‡n sá»©c khá»e, vÃ  duy trÃ¬ thÃ³i quen lÃ nh máº¡nh trong cuá»™c sá»‘ng hiá»‡n Ä‘áº¡i.

## ğŸ¯ Má»¥c tiÃªu cá»§a dá»± Ã¡n

- ğŸ½ï¸ **Theo dÃµi cháº¿ Ä‘á»™ Äƒn uá»‘ng:**  
  Cung cáº¥p cÃ´ng cá»¥ giÃºp ngÆ°á»i dÃ¹ng ghi láº¡i **lÆ°á»£ng calo**, **dÆ°á»¡ng cháº¥t**, vÃ  **thÃ³i quen Äƒn uá»‘ng hÃ ng ngÃ y**, há»— trá»£ kiá»ƒm soÃ¡t cÃ¢n náº·ng vÃ  sá»©c khá»e.

- ğŸ—ƒï¸ **API á»•n Ä‘á»‹nh vÃ  má»Ÿ rá»™ng:**  
  XÃ¢y dá»±ng **API backend Ä‘Ã¡ng tin cáº­y** cho phÃ©p lÆ°u trá»¯ vÃ  truy xuáº¥t **mÃ³n Äƒn**, **nguyÃªn liá»‡u**, vÃ  **thÃ´ng tin dinh dÆ°á»¡ng** má»™t cÃ¡ch linh hoáº¡t.

- ğŸ“¸ **Nháº­n diá»‡n mÃ³n Äƒn báº±ng AI:**  
  Há»— trá»£ **ngÆ°á»i dÃ¹ng táº£i lÃªn hÃ¬nh áº£nh mÃ³n Äƒn**, há»‡ thá»‘ng sáº½ **phÃ¢n tÃ­ch vÃ  nháº­n diá»‡n** loáº¡i thá»±c pháº©m, **Æ°á»›c tÃ­nh giÃ¡ trá»‹ dinh dÆ°á»¡ng**, vÃ  **lÆ°á»£ng calo tÆ°Æ¡ng á»©ng**.

- ğŸ¤– **PhÃ¢n tÃ­ch & Gá»£i Ã½ thÃ´ng minh (AI Module):**  
  á»¨ng dá»¥ng **trÃ­ tuá»‡ nhÃ¢n táº¡o (AI)** Ä‘á»ƒ **phÃ¢n tÃ­ch bá»¯a Äƒn hÃ ng ngÃ y**, Ä‘Ã¡nh giÃ¡ **má»©c Ä‘á»™ cÃ¢n báº±ng dinh dÆ°á»¡ng**, vÃ  **Ä‘Æ°a ra lá»i khuyÃªn cÃ¡ nhÃ¢n hÃ³a**.

- ğŸ§  **ChuyÃªn gia dinh dÆ°á»¡ng áº£o:**  
  TÃ­ch há»£p **AI Chatbot** â€” â€œ**ChuyÃªn gia dinh dÆ°á»¡ng cÃ¡ nhÃ¢n**â€ cÃ³ kháº£ nÄƒng tÆ° váº¥n, giáº£i Ä‘Ã¡p tháº¯c máº¯c vÃ  gá»£i Ã½ thá»±c Ä‘Æ¡n phÃ¹ há»£p vá»›i má»¥c tiÃªu sá»©c khá»e cá»§a tá»«ng ngÆ°á»i dÃ¹ng.

---

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

| ThÃ nh pháº§n        | CÃ´ng nghá»‡                           | Chá»©c nÄƒng                                                                                          | Æ¯u Ä‘iá»ƒm                                                            |
| ----------------- | ----------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------ |
| **Frontend**      | ğŸ§© React + TypeScript + TailwindCSS | XÃ¢y dá»±ng giao diá»‡n ngÆ°á»i dÃ¹ng thÃ¢n thiá»‡n, hiá»ƒn thá»‹ dá»¯ liá»‡u dinh dÆ°á»¡ng vÃ  tÆ°Æ¡ng tÃ¡c vá»›i AI Chatbot. | Hiá»‡u nÄƒng cao âš¡, dá»… báº£o trÃ¬ ğŸ› ï¸, UI hiá»‡n Ä‘áº¡i vÃ  responsive ğŸ“±.     |
| **Backend**       | â˜• Java Spring Boot                 | Xá»­ lÃ½ logic nghiá»‡p vá»¥, quáº£n lÃ½ ngÆ°á»i dÃ¹ng, mÃ³n Äƒn, vÃ  káº¿t ná»‘i vá»›i AI module.                       | Máº¡nh máº½ ğŸ’ª, dá»… má»Ÿ rá»™ng, há»— trá»£ RESTful API chuáº©n hÃ³a ğŸŒ.           |
| **CÆ¡ sá»Ÿ dá»¯ liá»‡u** | ğŸƒ MongoDB                          | LÆ°u trá»¯ thÃ´ng tin mÃ³n Äƒn, nguyÃªn liá»‡u, lá»‹ch sá»­ Äƒn uá»‘ng vÃ  pháº£n há»“i tá»« AI.                          | Linh hoáº¡t trong cáº¥u trÃºc dá»¯ liá»‡u, hiá»‡u suáº¥t cao cho truy váº¥n JSON. |
| **AI Module**     | ğŸ§  Python Flask + OpenAI API        | PhÃ¢n tÃ­ch dinh dÆ°á»¡ng tá»« dá»¯ liá»‡u ngÆ°á»i dÃ¹ng vÃ  sinh gá»£i Ã½ cÃ¡ nhÃ¢n hÃ³a.                              | Dá»… tÃ­ch há»£p ğŸ¤, sá»­ dá»¥ng mÃ´ hÃ¬nh AI tiÃªn tiáº¿n ğŸ¤–.                   |
| **Triá»ƒn khai**    | ğŸ³ Docker + Nginx                   | ÄÃ³ng gÃ³i vÃ  triá»ƒn khai toÃ n bá»™ há»‡ thá»‘ng trÃªn mÃ´i trÆ°á»ng container.                                 | TÃ­nh di Ä‘á»™ng cao ğŸš€, dá»… má»Ÿ rá»™ng vÃ  triá»ƒn khai CI/CD ğŸ§±.            |

---

## ğŸ’¡ TÃ­nh nÄƒng ná»•i báº­t

âœ… **Theo dÃµi & thá»‘ng kÃª bá»¯a Äƒn hÃ ng ngÃ y**  
âœ… **Nháº­n diá»‡n mÃ³n Äƒn tá»« hÃ¬nh áº£nh (AI Vision)**  
âœ… **PhÃ¢n tÃ­ch & Ä‘Ã¡nh giÃ¡ dinh dÆ°á»¡ng tá»± Ä‘á»™ng**  
âœ… **Chatbot tÆ° váº¥n dinh dÆ°á»¡ng theo thá»i gian thá»±c**  
âœ… **RESTful API lÆ°u trá»¯ & quáº£n lÃ½ dá»¯ liá»‡u mÃ³n Äƒn**  
âœ… **Giao diá»‡n hiá»‡n Ä‘áº¡i, thÃ¢n thiá»‡n vÃ  responsive**

> ğŸ§© _NutriTrack káº¿t há»£p sá»©c máº¡nh AI & dá»¯ liá»‡u dinh dÆ°á»¡ng giÃºp ngÆ°á»i dÃ¹ng hiá»ƒu rÃµ hÆ¡n vá» thá»±c pháº©m há» tiÃªu thá»¥ â€“ chá»‰ vá»›i má»™t bá»©c áº£nh._

---

## ğŸ—ï¸ Kiáº¿n trÃºc há»‡ thá»‘ng

## ![Kiáº¿n trÃºc há»‡ thá»‘ng](architecture.png)

## ğŸ§© YÃªu cáº§u (Prerequisites)

Äá»ƒ cháº¡y dá»± Ã¡n **NutriTrack**, hÃ£y Ä‘áº£m báº£o ráº±ng báº¡n Ä‘Ã£ cÃ i Ä‘áº·t cÃ¡c cÃ´ng cá»¥ sau trÃªn mÃ¡y:

- ğŸ§° **Git** â€“ Ä‘á»ƒ clone vÃ  quáº£n lÃ½ mÃ£ nguá»“n.
- ğŸ§© **Node.js (LTS â‰¥ 16)** â€“ cháº¡y á»©ng dá»¥ng frontend (React + TypeScript).
- ğŸ“¦ **npm hoáº·c yarn** â€“ quáº£n lÃ½ vÃ  cÃ i Ä‘áº·t thÆ° viá»‡n frontend.
- â˜• **Java JDK â‰¥ 21** â€“ cháº¡y backend (Spring Boot).
- ğŸ—ï¸ **Maven** â€“ dÃ¹ng Ä‘á»ƒ build vÃ  quáº£n lÃ½ dependency cá»§a backend.
- ğŸ **Python â‰¥ 3.13** â€“ cháº¡y mÃ´-Ä‘un AI (Flask + OpenAI API).
- ğŸ“¦ **pip** â€“ cÃ i Ä‘áº·t cÃ¡c gÃ³i cáº§n thiáº¿t cho mÃ´-Ä‘un AI.
- ğŸ³ **Docker & docker-compose** _(tÃ¹y chá»n)_ â€“ dÃ¹ng Ä‘á»ƒ khá»Ÿi cháº¡y nhanh toÃ n bá»™ há»‡ thá»‘ng trong mÃ´i trÆ°á»ng container.

---

## HÆ°á»›ng dáº«n cÃ i Ä‘áº·t & cháº¡y nhanh (máº«u)

1. Clone repository

```bash
git clone https://github.com/Fat1512/NutriTrack.git
cd NutriTrack
```

## âš™ï¸ 2. Backend (Java â€” Spring Boot)

### ğŸ§¾ Cáº¥u hÃ¬nh mÃ´i trÆ°á»ng

TrÆ°á»›c khi cháº¡y backend, hÃ£y thiáº¿t láº­p cÃ¡c **biáº¿n mÃ´i trÆ°á»ng** cáº§n thiáº¿t:

```bash

DB_NAME=your_database_name
MONGO_USERNAME=your_username
MONGO_PASSWORD=your_password
MONGO_HOST=your_host

AUTH_SECRET_KEY=your_secret_key


AI_SERVER_URL=http://localhost:5000
```

```bash
cd eatwise-server
./mvnw clean package
./mvnw spring-boot:run
java -jar target/your-app-name.jar
```

## âš›ï¸ 3. Frontend (TypeScript â€” React + Vite)

### ğŸ§¾ Cáº¥u hÃ¬nh mÃ´i trÆ°á»ng

TrÆ°á»›c khi khá»Ÿi cháº¡y frontend, hÃ£y táº¡o tá»‡p `.env` trong thÆ° má»¥c `eatwise-frontend` vá»›i ná»™i dung sau:

```bash
VITE_BASE_URL=http://localhost:8080/eatwise-service/api/v1
VITE_AI_URL=http://localhost:5000/api/
```

```bash
cd eatwise-frontend
yarn install
yarn dev
yarn build
```

---

## 4. AI (Python - Flask)

TrÆ°á»›c khi khá»Ÿi cháº¡y AI, hÃ£y táº¡o tá»‡p `.env` trong thÆ° má»¥c `AI` vá»›i ná»™i dung sau:

```bash
LLM_PROVIDER=openai o
OPENAI_MODEL=gpt-4o-mini or OLLAMA_MODEL=llava-phi3:3.8b
OPENAI_API_KEY=your-api-key


OLLAMA_HOST=http://localhost:11434 when using ollama
EMBEDDING_PROVIDER=sentence_transformer
EMBEDDING_MODEL_NAME=bkai-foundation-models/vietnamese-bi-encoder
# EMBEDDING_PROVIDER=ollama
# EMBEDDING_MODEL_NAME=nomic-embed-text:latest



WATCHER_LOCAL_PATH=./storage
WATCHER_RSS_URLS=https://suckhoedoisong.vn/dinh-duong.rss or website support for rss
WATCHER_RSS_INTERVAL=60

RSS_WATCHER_ENABLED=true
RSS_MAX_AGE_DAYS=1
RSS_MAX_BACKFILL_PAGES=1
REDIS_HOST=your-redis-host
REDIS_PORT=your-redis-port
REDIS_USERNAME=your-redis-username
REDIS_PASSWORD=your-redis-password
```

```bash
cd AI
python -m venv venv
source venv/bin/activate   # macOS / Linux
venv\Scripts\activate      # Windows

pip install -r requirements.txt
python main.py
```

---

5. Cháº¡y toÃ n bá»™ báº±ng Docker

```bash
docker-compose up --build
```

## âš™ï¸ Cáº¥u HÃ¬nh Ports

| ğŸš¦ **Dá»‹ch Vá»¥**                 | ğŸ’» **Cá»•ng (Development)** | ğŸ“ **MÃ´ Táº£**                                                                           |
| :----------------------------- | :-----------------------: | :------------------------------------------------------------------------------------- |
| ğŸ’» **Frontend (React / Vite)** |          `5173`           | Giao diá»‡n ngÆ°á»i dÃ¹ng chÃ­nh cá»§a **NutriTrack**                                          |
| âš™ï¸ **Backend (Spring Boot)**   |          `8080`           | API trung tÃ¢m xá»­ lÃ½ dá»¯ liá»‡u vÃ  nghiá»‡p vá»¥                                               |
| ğŸ§  **AI Service (Flask)**      |          `5000`           | Dá»‹ch vá»¥ **AI/LLM** phÃ¢n tÃ­ch dinh dÆ°á»¡ng vÃ  nháº­n diá»‡n thá»±c pháº©m                         |
| ğŸƒ **MongoDB**                 |          `27017`          | Há»‡ quáº£n trá»‹ **cÆ¡ sá»Ÿ dá»¯ liá»‡u NoSQL** lÆ°u trá»¯ thÃ´ng tin ngÆ°á»i dÃ¹ng vÃ  nháº­t kÃ½ dinh dÆ°á»¡ng |

---

## ğŸ”Œ CÃ¡c Endpoint chÃ­nh

### Endpoint Backend

- **Base URL (dev):** `http://localhost:8080/eatwise-service/api/v1`

| Method | Endpoint                    | MÃ´ táº£                                         |
| ------ | --------------------------- | --------------------------------------------- |
| `GET`  | `/foods`                    | Láº¥y danh sÃ¡ch toÃ n bá»™ cÃ¡c mÃ³n Äƒn              |
| `GET`  | `/ingredients`              | Láº¥y danh sÃ¡ch toÃ n bá»™ cÃ¡c nguyÃªn liá»‡u         |
| `GET`  | `/routine/pickedDate`       | Láº¥y lá»‹ch trÃ¬nh Äƒn uá»‘ng theo ngÃ y              |
| `GET`  | `/routine/statics`          | Thá»‘ng kÃª dinh dÆ°á»¡ng cá»§a ngÆ°á»i dÃ¹ng theo thÃ¡ng |
| `GET`  | `/routine/consume-nutrient` | Láº¥y thÃ´ng tin cÃ¡c cháº¥t ngÆ°á»i dÃ¹ng Ä‘Ã£ tiÃªu thá»¥ |
| `POST` | `/routine/food`             | ThÃªm mÃ³n Äƒn vÃ o lá»‹ch Äƒn hÃ ng ngÃ y             |

---

### Endpoint AI Service

| Method   | Endpoint               | MÃ´ táº£                                                                                                                                                                                                                                                         |
| -------- | ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `POST`   | `/api/analyze`         | PhÃ¢n tÃ­ch má»™t hoáº·c nhiá»u hÃ¬nh áº£nh mÃ³n Äƒn. <br>**Input:** `multipart/form-data` chá»©a file hoáº·c nhiá»u file dÆ°á»›i key `images`. <br>**Response:** JSON chá»©a káº¿t quáº£ phÃ¢n tÃ­ch tá»« `FoodPipeline`. <br>**Note:** File táº¡m thá»i Ä‘Æ°á»£c táº¡o vÃ  tá»± Ä‘á»™ng xÃ³a trÃªn server. |
| `POST`   | `/api/analyze-routine` | PhÃ¢n tÃ­ch thÃ³i quen Äƒn uá»‘ng vÃ  tráº¡ng thÃ¡i dinh dÆ°á»¡ng cá»§a ngÆ°á»i dÃ¹ng. <br>**Input:** JSON chá»©a cÃ¡c key `routine` vÃ  `userStatus`. <br>**Response:** JSON chá»©a káº¿t quáº£ phÃ¢n tÃ­ch tá»« `FoodPipeline`.                                                             |
| `POST`   | `/api/rag/upload`      | Upload file. File sáº½ Ä‘Æ°á»£c lÆ°u vÃ o `WATCH_DIR` vÃ  Ä‘Æ°á»£c xá»­ lÃ½ bá»Ÿi `LocalFolderWatcher`.                                                                                                                                                                         |
| `POST`   | `/api/rag/chat`        | Body: `{ "query": "CÃ¢u há»i cá»§a báº¡n" }` <br>Tráº£ vá» luá»“ng pháº£n há»“i RAG dá»±a trÃªn cÃ¡c tÃ i liá»‡u Ä‘Ã£ ingest.                                                                                                                                                         |
| `GET`    | `/api/rag/documents`   | Liá»‡t kÃª táº¥t cáº£ cÃ¡c tÃ i liá»‡u duy nháº¥t hiá»‡n cÃ³ trong vector store.                                                                                                                                                                                              |
| `DELETE` | `/api/rag/document`    | Body: `{ "filename": "ten_file_can_xoa.pdf" }` <br>XÃ³a tÃ i liá»‡u khá»i vector store.                                                                                                                                                                            |

## âš–ï¸ Quy Táº¯c á»¨ng Xá»­

Dá»± Ã¡n nÃ y tuÃ¢n theo **Bá»™ Quy Táº¯c á»¨ng Xá»­ dÃ nh cho cá»™ng Ä‘á»“ng**.  
Vui lÃ²ng xem chi tiáº¿t trong [CODE_OF_CONDUCT.md](./CODE_OF_CONDUCT.md) Ä‘á»ƒ biáº¿t thÃªm vá» cÃ¡c quy táº¯c vÃ  hÃ nh vi Ä‘Æ°á»£c cháº¥p nháº­n.

---

## ğŸ¤ ÄÃ³ng GÃ³p Cho Dá»± Ãn

---

### ğŸŒ± Quy TrÃ¬nh ÄÃ³ng GÃ³p

#### 1. Fork Repository

Fork repository cá»§a dá»± Ã¡n trÃªn GitHub Ä‘á»ƒ táº¡o báº£n sao trong tÃ i khoáº£n cá»§a báº¡n.

```bash
# Fork repository trÃªn GitHub
# Clone vá» mÃ¡y local
git clone https://github.com/<your-username>/NutriTrack.git
cd NutriTrack
```

#### 2. Táº¡o nhÃ¡nh má»›i

Táº¡o má»™t branch má»›i Ä‘á»ƒ phÃ¡t triá»ƒn tÃ­nh nÄƒng hoáº·c sá»­a lá»—i.

```bash
# Táº¡o vÃ  chuyá»ƒn sang branch má»›i
git checkout -b feat/<new-feature>

# VÃ­ dá»¥
git checkout -b feat/disaster-tracking
```

#### 3. Commit Thay Äá»•i

Sau khi chá»‰nh sá»­a, hÃ£y commit cÃ¡c thay Ä‘á»•i vá»›i thÃ´ng Ä‘iá»‡p rÃµ rÃ ng.

```bash
# ThÃªm file Ä‘Ã£ thay Ä‘á»•i
git add .

# Commit vá»›i message rÃµ rÃ ng
git commit -m "feat: add new feature"
```

#### 4. Push Branch

```bash
# Push lÃªn repository cá»§a báº¡n
git push -u origin feat/<new-feature>
```

#### 5.Táº¡o Pull Request (PR)

1. Truy cáº­p repository **gá»‘c** trÃªn GitHub.
2. Chá»n **"New Pull Request"**.
3. Chá»n branch cá»§a báº¡n Ä‘á»ƒ merge.
4. Äiá»n mÃ´ táº£ chi tiáº¿t cho thay Ä‘á»•i cá»§a báº¡n.
5. Gá»­i **Pull Request (PR)** vÃ  chá» pháº£n há»“i tá»« nhÃ³m phÃ¡t triá»ƒn. ğŸš€

---

## ğŸ§¾ Giáº¥y PhÃ©p

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¢n phá»‘i theo **Giáº¥y phÃ©p Apache License 2.0**.  
Báº¡n cÃ³ thá»ƒ xem chi tiáº¿t trong [file LICENSE](./LICENSE) cá»§a repository.

---

## ğŸ“ LiÃªn Há»‡

| ğŸ“¬ **PhÆ°Æ¡ng Thá»©c** | ğŸ“± **Chi Tiáº¿t**                                   |
| ------------------ | ------------------------------------------------- |
| **Email**          | [fcletan12@gmail.com](mailto:fcletan12@gmail.com) |
| **Hotline**        | +84 914 132 508                                   |

---

## ğŸª² BÃ¡o CÃ¡o Lá»—i & GÃ³p Ã

### ğŸ“ Issues

Náº¿u báº¡n phÃ¡t hiá»‡n lá»—i hoáº·c cÃ³ Ä‘á» xuáº¥t tÃ­nh nÄƒng má»›i, vui lÃ²ng táº¡o **Issue** táº¡i:  
ğŸ‘‰ [GitHub Issues](https://github.com/Fat1512/NutriTrack/issues)

ChÃºng tÃ´i ráº¥t hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p vÃ  pháº£n há»“i tá»« cá»™ng Ä‘á»“ng ğŸ’¡.

# Authors

- tanle9t2 â€” https://github.com/tanle9t2
- Fat1512 â€” https://github.com/Fat1512
- DatLe328 â€” https://github.com/DatLe328
