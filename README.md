# ü•¶ NutriTrack ‚Äî Gi·∫£i ph√°p ph·∫ßn m·ªÅm theo d√µi dinh d∆∞·ª°ng th√¥ng minh

[![License](https://img.shields.io/badge/License-Apache_2.0-blue.svg)](./LICENSE)
[![Made with Java](https://img.shields.io/badge/Backend-Java_SpringBoot-orange)]()
[![Made with Python](https://img.shields.io/badge/AI-Python_Flask-yellow)]()
[![OpenAI](https://img.shields.io/badge/LLM-OpenAI_gpt--4o-00b3ff?logo=openai)]()
[![Frontend](https://img.shields.io/badge/Frontend-React_TypeScript-blue)]()
[![Database](https://img.shields.io/badge/Database-MongoDB-green)]()
[![Dockerized](https://img.shields.io/badge/Deployment-Docker_&_Nginx-lightgrey)]()

## **NutriTrack** l√† h·ªá th·ªëng h·ªó tr·ª£ **theo d√µi dinh d∆∞·ª°ng v√† l·ªëi s·ªëng** to√†n di·ªán, gi√∫p ng∆∞·ªùi d√πng d·ªÖ d√†ng qu·∫£n l√Ω ch·∫ø ƒë·ªô ƒÉn u·ªëng, c·∫£i thi·ªán s·ª©c kh·ªèe, v√† duy tr√¨ th√≥i quen l√†nh m·∫°nh trong cu·ªôc s·ªëng hi·ªán ƒë·∫°i.

## üéØ M·ª•c ti√™u c·ªßa d·ª± √°n

- üçΩÔ∏è **Theo d√µi ch·∫ø ƒë·ªô ƒÉn u·ªëng:**  
  Cung c·∫•p c√¥ng c·ª• gi√∫p ng∆∞·ªùi d√πng ghi l·∫°i **l∆∞·ª£ng calo**, **d∆∞·ª°ng ch·∫•t**, v√† **th√≥i quen ƒÉn u·ªëng h√†ng ng√†y**, h·ªó tr·ª£ ki·ªÉm so√°t c√¢n n·∫∑ng v√† s·ª©c kh·ªèe.

- üóÉÔ∏è **API ·ªïn ƒë·ªãnh v√† m·ªü r·ªông:**  
  X√¢y d·ª±ng **API backend ƒë√°ng tin c·∫≠y** cho ph√©p l∆∞u tr·ªØ v√† truy xu·∫•t **m√≥n ƒÉn**, **nguy√™n li·ªáu**, v√† **th√¥ng tin dinh d∆∞·ª°ng** m·ªôt c√°ch linh ho·∫°t.

- üì∏ **Nh·∫≠n di·ªán m√≥n ƒÉn b·∫±ng AI:**  
  H·ªó tr·ª£ **ng∆∞·ªùi d√πng t·∫£i l√™n h√¨nh ·∫£nh m√≥n ƒÉn**, h·ªá th·ªëng s·∫Ω **ph√¢n t√≠ch v√† nh·∫≠n di·ªán** lo·∫°i th·ª±c ph·∫©m, **∆∞·ªõc t√≠nh gi√° tr·ªã dinh d∆∞·ª°ng**, v√† **l∆∞·ª£ng calo t∆∞∆°ng ·ª©ng**.

- ü§ñ **Ph√¢n t√≠ch & G·ª£i √Ω th√¥ng minh (AI Module):**  
  ·ª®ng d·ª•ng **tr√≠ tu·ªá nh√¢n t·∫°o (AI)** ƒë·ªÉ **ph√¢n t√≠ch b·ªØa ƒÉn h√†ng ng√†y**, ƒë√°nh gi√° **m·ª©c ƒë·ªô c√¢n b·∫±ng dinh d∆∞·ª°ng**, v√† **ƒë∆∞a ra l·ªùi khuy√™n c√° nh√¢n h√≥a**.

- üß† **Chuy√™n gia dinh d∆∞·ª°ng ·∫£o:**  
  T√≠ch h·ª£p **AI Chatbot** ‚Äî ‚Äú**Chuy√™n gia dinh d∆∞·ª°ng c√° nh√¢n**‚Äù c√≥ kh·∫£ nƒÉng t∆∞ v·∫•n, gi·∫£i ƒë√°p th·∫Øc m·∫Øc v√† g·ª£i √Ω th·ª±c ƒë∆°n ph√π h·ª£p v·ªõi m·ª•c ti√™u s·ª©c kh·ªèe c·ªßa t·ª´ng ng∆∞·ªùi d√πng.

---

## üõ†Ô∏è C√¥ng ngh·ªá s·ª≠ d·ª•ng

| Th√†nh ph·∫ßn        | C√¥ng ngh·ªá                           | Ch·ª©c nƒÉng                                                                                          | ∆Øu ƒëi·ªÉm                                                            |
| ----------------- | ----------------------------------- | -------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------ |
| **Frontend**      | üß© React + TypeScript + TailwindCSS | X√¢y d·ª±ng giao di·ªán ng∆∞·ªùi d√πng th√¢n thi·ªán, hi·ªÉn th·ªã d·ªØ li·ªáu dinh d∆∞·ª°ng v√† t∆∞∆°ng t√°c v·ªõi AI Chatbot. | Hi·ªáu nƒÉng cao ‚ö°, d·ªÖ b·∫£o tr√¨ üõ†Ô∏è, UI hi·ªán ƒë·∫°i v√† responsive üì±.     |
| **Backend**       | ‚òï Java Spring Boot                 | X·ª≠ l√Ω logic nghi·ªáp v·ª•, qu·∫£n l√Ω ng∆∞·ªùi d√πng, m√≥n ƒÉn, v√† k·∫øt n·ªëi v·ªõi AI module.                       | M·∫°nh m·∫Ω üí™, d·ªÖ m·ªü r·ªông, h·ªó tr·ª£ RESTful API chu·∫©n h√≥a üåê.           |
| **C∆° s·ªü d·ªØ li·ªáu** | üçÉ MongoDB                          | L∆∞u tr·ªØ th√¥ng tin m√≥n ƒÉn, nguy√™n li·ªáu, l·ªãch s·ª≠ ƒÉn u·ªëng v√† ph·∫£n h·ªìi t·ª´ AI.                          | Linh ho·∫°t trong c·∫•u tr√∫c d·ªØ li·ªáu, hi·ªáu su·∫•t cao cho truy v·∫•n JSON. |
| **AI Module**     | üß† Python Flask + OpenAI API        | Ph√¢n t√≠ch dinh d∆∞·ª°ng t·ª´ d·ªØ li·ªáu ng∆∞·ªùi d√πng v√† sinh g·ª£i √Ω c√° nh√¢n h√≥a.                              | D·ªÖ t√≠ch h·ª£p ü§ù, s·ª≠ d·ª•ng m√¥ h√¨nh AI ti√™n ti·∫øn ü§ñ.                   |
| **Tri·ªÉn khai**    | üê≥ Docker + Nginx                   | ƒê√≥ng g√≥i v√† tri·ªÉn khai to√†n b·ªô h·ªá th·ªëng tr√™n m√¥i tr∆∞·ªùng container.                                 | T√≠nh di ƒë·ªông cao üöÄ, d·ªÖ m·ªü r·ªông v√† tri·ªÉn khai CI/CD üß±.            |

---

## üí° T√≠nh nƒÉng n·ªïi b·∫≠t

‚úÖ **Theo d√µi & th·ªëng k√™ b·ªØa ƒÉn h√†ng ng√†y**  
‚úÖ **Nh·∫≠n di·ªán m√≥n ƒÉn t·ª´ h√¨nh ·∫£nh (AI Vision)**  
‚úÖ **Ph√¢n t√≠ch & ƒë√°nh gi√° dinh d∆∞·ª°ng t·ª± ƒë·ªông**  
‚úÖ **Chatbot t∆∞ v·∫•n dinh d∆∞·ª°ng theo th·ªùi gian th·ª±c**  
‚úÖ **RESTful API l∆∞u tr·ªØ & qu·∫£n l√Ω d·ªØ li·ªáu m√≥n ƒÉn**  
‚úÖ **Giao di·ªán hi·ªán ƒë·∫°i, th√¢n thi·ªán v√† responsive**

> üß© _NutriTrack k·∫øt h·ª£p s·ª©c m·∫°nh AI & d·ªØ li·ªáu dinh d∆∞·ª°ng gi√∫p ng∆∞·ªùi d√πng hi·ªÉu r√µ h∆°n v·ªÅ th·ª±c ph·∫©m h·ªç ti√™u th·ª• ‚Äì ch·ªâ v·ªõi m·ªôt b·ª©c ·∫£nh._

---

## üèóÔ∏è Ki·∫øn tr√∫c h·ªá th·ªëng

## ![Ki·∫øn tr√∫c h·ªá th·ªëng](architecture.png)

## üß© Y√™u c·∫ßu (Prerequisites)

ƒê·ªÉ ch·∫°y d·ª± √°n **NutriTrack**, h√£y ƒë·∫£m b·∫£o r·∫±ng b·∫°n ƒë√£ c√†i ƒë·∫∑t c√°c c√¥ng c·ª• sau tr√™n m√°y:

- üß∞ **Git** ‚Äì ƒë·ªÉ clone v√† qu·∫£n l√Ω m√£ ngu·ªìn.
- üß© **Node.js (LTS ‚â• 16)** ‚Äì ch·∫°y ·ª©ng d·ª•ng frontend (React + TypeScript).
- üì¶ **npm ho·∫∑c yarn** ‚Äì qu·∫£n l√Ω v√† c√†i ƒë·∫∑t th∆∞ vi·ªán frontend.
- ‚òï **Java JDK ‚â• 21** ‚Äì ch·∫°y backend (Spring Boot).
- üèóÔ∏è **Maven** ‚Äì d√πng ƒë·ªÉ build v√† qu·∫£n l√Ω dependency c·ªßa backend.
- üêç **Python ‚â• 3.13** ‚Äì ch·∫°y m√¥-ƒëun AI (Flask + OpenAI API).
- üì¶ **pip** ‚Äì c√†i ƒë·∫∑t c√°c g√≥i c·∫ßn thi·∫øt cho m√¥-ƒëun AI.
- üê≥ **Docker & docker-compose** _(t√πy ch·ªçn)_ ‚Äì d√πng ƒë·ªÉ kh·ªüi ch·∫°y nhanh to√†n b·ªô h·ªá th·ªëng trong m√¥i tr∆∞·ªùng container.

---

## H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t & ch·∫°y nhanh (m·∫´u)

1. Clone repository

```bash
git clone https://github.com/Fat1512/NutriTrack.git
cd NutriTrack
```

## ‚öôÔ∏è 2. Backend (Java ‚Äî Spring Boot)

### üßæ C·∫•u h√¨nh m√¥i tr∆∞·ªùng

Tr∆∞·ªõc khi ch·∫°y backend, h√£y thi·∫øt l·∫≠p c√°c **bi·∫øn m√¥i tr∆∞·ªùng** c·∫ßn thi·∫øt:

```bash

DB_NAME=your_database_name
MONGO_USERNAME=your_username
MONGO_PASSWORD=your_password
MONGO_HOST=your_host

AUTH_SECRET_KEY=your_secret_key


AI_SERVER_URL=http://localhost:5000
```

```bash
cd eatwise-server
./mvnw clean package
./mvnw spring-boot:run
java -jar target/your-app-name.jar
```

## ‚öõÔ∏è 3. Frontend (TypeScript ‚Äî React + Vite)

### üßæ C·∫•u h√¨nh m√¥i tr∆∞·ªùng

Tr∆∞·ªõc khi kh·ªüi ch·∫°y frontend, h√£y t·∫°o t·ªáp `.env` trong th∆∞ m·ª•c `eatwise-frontend` v·ªõi n·ªôi dung sau:

```bash
VITE_BASE_URL=http://localhost:8080/eatwise-service/api/v1
VITE_AI_URL=http://localhost:5000/api/
```

```bash
cd eatwise-frontend
yarn install
yarn dev
yarn build
```

---

## 4. AI (Python - Flask)

Tr∆∞·ªõc khi kh·ªüi ch·∫°y AI, h√£y t·∫°o t·ªáp `.env` trong th∆∞ m·ª•c `AI` v·ªõi n·ªôi dung sau:

```bash
LLM_PROVIDER=openai o
OPENAI_MODEL=gpt-4o-mini or OLLAMA_MODEL=llava-phi3:3.8b
OPENAI_API_KEY=your-api-key


OLLAMA_HOST=http://localhost:11434 when using ollama
EMBEDDING_PROVIDER=sentence_transformer
EMBEDDING_MODEL_NAME=bkai-foundation-models/vietnamese-bi-encoder
# EMBEDDING_PROVIDER=ollama
# EMBEDDING_MODEL_NAME=nomic-embed-text:latest



WATCHER_LOCAL_PATH=./storage
WATCHER_RSS_URLS=https://suckhoedoisong.vn/dinh-duong.rss or website support for rss
WATCHER_RSS_INTERVAL=60

RSS_WATCHER_ENABLED=true
RSS_MAX_AGE_DAYS=1
RSS_MAX_BACKFILL_PAGES=1
REDIS_HOST=your-redis-host
REDIS_PORT=your-redis-port
REDIS_USERNAME=your-redis-username
REDIS_PASSWORD=your-redis-password
```

```bash
cd AI
python -m venv venv
source venv/bin/activate   # macOS / Linux
venv\Scripts\activate      # Windows

pip install -r requirements.txt
python main.py
```

---

5. Ch·∫°y to√†n b·ªô b·∫±ng Docker

```bash
docker-compose up --build
```

## ‚öôÔ∏è C·∫•u H√¨nh Ports

| üö¶ **D·ªãch V·ª•**                 | üíª **C·ªïng (Development)** | üìù **M√¥ T·∫£**                                                                           |
| :----------------------------- | :-----------------------: | :------------------------------------------------------------------------------------- |
| üíª **Frontend (React / Vite)** |          `5173`           | Giao di·ªán ng∆∞·ªùi d√πng ch√≠nh c·ªßa **NutriTrack**                                          |
| ‚öôÔ∏è **Backend (Spring Boot)**   |          `8080`           | API trung t√¢m x·ª≠ l√Ω d·ªØ li·ªáu v√† nghi·ªáp v·ª•                                               |
| üß† **AI Service (Flask)**      |          `5000`           | D·ªãch v·ª• **AI/LLM** ph√¢n t√≠ch dinh d∆∞·ª°ng v√† nh·∫≠n di·ªán th·ª±c ph·∫©m                         |
| üçÉ **MongoDB**                 |          `27017`          | H·ªá qu·∫£n tr·ªã **c∆° s·ªü d·ªØ li·ªáu NoSQL** l∆∞u tr·ªØ th√¥ng tin ng∆∞·ªùi d√πng v√† nh·∫≠t k√Ω dinh d∆∞·ª°ng |

---

## üîå C√°c Endpoint ch√≠nh

### Endpoint Backend

- **Base URL (dev):** `http://localhost:8080/eatwise-service/api/v1`

| Method | Endpoint                    | M√¥ t·∫£                                         |
| ------ | --------------------------- | --------------------------------------------- |
| `GET`  | `/foods`                    | L·∫•y danh s√°ch to√†n b·ªô c√°c m√≥n ƒÉn              |
| `GET`  | `/ingredients`              | L·∫•y danh s√°ch to√†n b·ªô c√°c nguy√™n li·ªáu         |
| `GET`  | `/routine/pickedDate`       | L·∫•y l·ªãch tr√¨nh ƒÉn u·ªëng theo ng√†y              |
| `GET`  | `/routine/statics`          | Th·ªëng k√™ dinh d∆∞·ª°ng c·ªßa ng∆∞·ªùi d√πng theo th√°ng |
| `GET`  | `/routine/consume-nutrient` | L·∫•y th√¥ng tin c√°c ch·∫•t ng∆∞·ªùi d√πng ƒë√£ ti√™u th·ª• |
| `POST` | `/routine/food`             | Th√™m m√≥n ƒÉn v√†o l·ªãch ƒÉn h√†ng ng√†y             |

---

### Endpoint AI Service

| Method   | Endpoint               | M√¥ t·∫£                                                                                                                                                                                                                                                         |
| -------- | ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `POST`   | `/api/analyze`         | Ph√¢n t√≠ch m·ªôt ho·∫∑c nhi·ªÅu h√¨nh ·∫£nh m√≥n ƒÉn. <br>**Input:** `multipart/form-data` ch·ª©a file ho·∫∑c nhi·ªÅu file d∆∞·ªõi key `images`. <br>**Response:** JSON ch·ª©a k·∫øt qu·∫£ ph√¢n t√≠ch t·ª´ `FoodPipeline`. <br>**Note:** File t·∫°m th·ªùi ƒë∆∞·ª£c t·∫°o v√† t·ª± ƒë·ªông x√≥a tr√™n server. |
| `POST`   | `/api/analyze-routine` | Ph√¢n t√≠ch th√≥i quen ƒÉn u·ªëng v√† tr·∫°ng th√°i dinh d∆∞·ª°ng c·ªßa ng∆∞·ªùi d√πng. <br>**Input:** JSON ch·ª©a c√°c key `routine` v√† `userStatus`. <br>**Response:** JSON ch·ª©a k·∫øt qu·∫£ ph√¢n t√≠ch t·ª´ `FoodPipeline`.                                                             |
| `POST`   | `/api/rag/upload`      | Upload file. File s·∫Ω ƒë∆∞·ª£c l∆∞u v√†o `WATCH_DIR` v√† ƒë∆∞·ª£c x·ª≠ l√Ω b·ªüi `LocalFolderWatcher`.                                                                                                                                                                         |
| `POST`   | `/api/rag/chat`        | Body: `{ "query": "C√¢u h·ªèi c·ªßa b·∫°n" }` <br>Tr·∫£ v·ªÅ lu·ªìng ph·∫£n h·ªìi RAG d·ª±a tr√™n c√°c t√†i li·ªáu ƒë√£ ingest.                                                                                                                                                         |
| `GET`    | `/api/rag/documents`   | Li·ªát k√™ t·∫•t c·∫£ c√°c t√†i li·ªáu duy nh·∫•t hi·ªán c√≥ trong vector store.                                                                                                                                                                                              |
| `DELETE` | `/api/rag/document`    | Body: `{ "filename": "ten_file_can_xoa.pdf" }` <br>X√≥a t√†i li·ªáu kh·ªèi vector store.                                                                                                                                                                            |

## ‚öñÔ∏è Quy T·∫Øc ·ª®ng X·ª≠

D·ª± √°n n√†y tu√¢n theo **B·ªô Quy T·∫Øc ·ª®ng X·ª≠ d√†nh cho c·ªông ƒë·ªìng**.  
Vui l√≤ng xem chi ti·∫øt trong [CODE_OF_CONDUCT.md](./CODE_OF_CONDUCT.md) ƒë·ªÉ bi·∫øt th√™m v·ªÅ c√°c quy t·∫Øc v√† h√†nh vi ƒë∆∞·ª£c ch·∫•p nh·∫≠n.

---

## üßæ Gi·∫•y Ph√©p

D·ª± √°n n√†y ƒë∆∞·ª£c ph√¢n ph·ªëi theo **Gi·∫•y ph√©p Apache License 2.0**.  
B·∫°n c√≥ th·ªÉ xem chi ti·∫øt trong [file LICENSE](./LICENSE) c·ªßa repository.

---

## üìû Li√™n H·ªá

| üì¨ **Ph∆∞∆°ng Th·ª©c** | üì± **Chi Ti·∫øt**                                   |
| ------------------ | ------------------------------------------------- |
| **Email**          | [fcletan12@gmail.com](mailto:fcletan12@gmail.com) |
| **Hotline**        | +84 914 132 508                                   |

---

## ü™≤ B√°o C√°o L·ªói & G√≥p √ù

### üìù Issues

N·∫øu b·∫°n ph√°t hi·ªán l·ªói ho·∫∑c c√≥ ƒë·ªÅ xu·∫•t t√≠nh nƒÉng m·ªõi, vui l√≤ng t·∫°o **Issue** t·∫°i:  
üëâ [GitHub Issues](https://github.com/Fat1512/NutriTrack/issues)

Ch√∫ng t√¥i r·∫•t hoan ngh√™nh m·ªçi ƒë√≥ng g√≥p v√† ph·∫£n h·ªìi t·ª´ c·ªông ƒë·ªìng üí°.

# Authors

- tanle9t2 ‚Äî https://github.com/tanle9t2
- Fat1512 ‚Äî https://github.com/Fat1512
- DatLe328 ‚Äî https://github.com/DatLe328
